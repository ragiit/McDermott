@page "/test"

<BaseListPage TData="VillageDto"
              Title="Test"
              IsAccess="true"
              Data="Villages">
    <Columns>
        <DxGridSelectionColumn Width="15px" />
        <DxGridDataColumn MinWidth="200" FieldName="Name" SortIndex="0" />
        <DxGridDataColumn MinWidth="200" FieldName="PostalCode" SortIndex="0" />
        <DxGridDataColumn MinWidth="200" FieldName="Province.Name" Caption="Province" />
        <DxGridDataColumn MinWidth="200" FieldName="City.Name" Caption="City" />
        <DxGridDataColumn MinWidth="200" FieldName="District.Name" Caption="District" />
    </Columns>

    @*  <EditForm Context="C">
    <DxFormLayoutItem CaptionCssClass="required-caption normal-caption" Caption="Name" ColSpanMd="12">
    <DxTextBox  ShowValidationIcon="true" ClearButtonDisplayMode="DataEditorClearButtonDisplayMode.Auto" NullText="Name" />

    </DxFormLayoutItem>
    </EditForm>*@
</BaseListPage>

@code {
    private bool IsLoading { get; set; } = false;
    private List<VillageDto> Villages = [];
    private List<ProvinceDto> Provinces = [];
    private List<DistrictDto> Districts = [];
    private List<CountryDto> Countrys = [];
    private List<CityDto> Cities = [];

    protected override async Task OnInitializedAsync()
    {
        IsLoading = true;
        Villages = await Mediator.Send(new GetVillageQuery());
        Countrys = await Mediator.Send(new GetCountryQuery());
        Provinces = await Mediator.Send(new GetProvinceQuery());
        Districts = await Mediator.Send(new GetDistrictQuery());
        Cities = await Mediator.Send(new GetCityQuery());
        IsLoading = false;
    }
}