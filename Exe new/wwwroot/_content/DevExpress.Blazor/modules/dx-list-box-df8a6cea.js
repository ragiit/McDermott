import{_ as e}from"./_tslib-6e8ca86b.js";import{S as s}from"./single-slot-element-base-4ab30292.js";import{l as t}from"./constants-8a482032.js";import{b as r}from"./dx-scroll-viewer-fc206e95.js";import{S as o}from"./scroll-viewer-css-classes-6b178e01.js";import{C as i}from"./css-classes-f45f6949.js";import{d as n}from"./dom-e3fa5208.js";import{b as l}from"./browser-f8f6e902.js";import{e as a}from"./custom-element-267f9a21.js";import"./data-qa-utils-8be7c726.js";import"./dx-ui-element-db9e89a3.js";import"./lit-element-base-7a85dca5.js";import"./lit-element-70cf14f4.js";import"./logicaltreehelper-99f1adf9.js";import"./layouthelper-1d804c8c.js";import"./point-e4ec110e.js";import"./constants-58283e53.js";import"./property-d3853089.js";import"./dx-html-element-base-e57a11f4.js";import"./dx-html-element-pointer-events-helper-56caf6d3.js";import"./eventhelper-8570b930.js";import"./devices-23bcdfad.js";import"./common-eb095e4d.js";class c{}c.ClassName=i.Prefix+"-list-box",c.TableNoScrollClassName=c.ClassName+"-table-no-scroll";let m=class extends s{constructor(){super(),this.boundOnScrollViewerUpdateHandler=this.onScrollViewerUpdate.bind(this),this.boundOnMouseDownHandler=this.onMouseDown.bind(this),this.resizeObserver=new ResizeObserver(this.onSizeChanged.bind(this))}connectedCallback(){super.connectedCallback(),this.addEventSubscriptions(),this.resizeObserver.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventSubscriptions(),this.resizeObserver.disconnect()}getScrollViewer(){return this.querySelector(`.${o.ClassName}`)}getScrollViewerContent(){return this.querySelector(`.${o.ContentContainerClassName}`)}getTable(){return this.querySelector(`.${o.ContentContainerClassName} > table`)}get isTableRender(){return!!this.getTable()}addEventSubscriptions(){this.addEventListener(r.eventName,this.boundOnScrollViewerUpdateHandler),l.Browser.Firefox&&this.isTableRender&&this.addEventListener("mousedown",this.boundOnMouseDownHandler)}removeEventSubscriptions(){this.removeEventListener(r.eventName,this.boundOnScrollViewerUpdateHandler),l.Browser.Firefox&&this.isTableRender&&this.removeEventListener("mousedown",this.boundOnMouseDownHandler)}onScrollViewerUpdate(e){const s=this.getScrollViewerContent(),t=this.getTable();s&&t&&(t.offsetHeight<s.clientHeight?n.DomUtils.addClassName(t,c.TableNoScrollClassName):n.DomUtils.removeClassName(t,c.TableNoScrollClassName)),e.stopPropagation()}onSizeChanged(e){const s=this.getScrollViewer();s&&s.refreshUI&&s.refreshUI()}onMouseDown(e){e.ctrlKey&&e.preventDefault()}};m=e([a(t)],m);const d={loadModule:function(){}};export{m as DxListBox,d as default};
